<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WEFLIX // Admin</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="style.css">
  <script src="https://unpkg.com/@phosphor-icons/web"></script>
</head>
<body class="bg-black text-white font-['Inter'] overflow-x-hidden">
  <header class="fixed top-0 left-0 right-0 z-50 p-4 md:p-6 flex justify-between items-center">
    <a href="/" class="weflix-logo text-2xl md:text-3xl font-black tracking-wider uppercase no-underline">WEFLIX</a>
    <nav class="flex items-center gap-4 text-sm text-gray-300">
      <a href="/" class="nav-link">Home</a>
      <span id="whoami"></span>
      <button id="logout-btn" class="cyber-button py-1 px-3 rounded">Logout</button>
    </nav>
  </header>

  <main class="pt-28 px-6 md:px-12 pb-16 space-y-10">
    <section class="space-y-4">
      <h2 class="text-2xl md:text-3xl font-['Orbitron'] font-black text-fuchsia-300">Control Panel</h2>
      <div class="grid md:grid-cols-2 gap-6">
        <form id="movie-form" class="bg-white/5 border border-white/10 rounded-xl p-5 space-y-3">
          <h3 class="text-xl font-bold mb-2">Add / Update Movie</h3>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
            <input id="m-id" class="px-3 py-2 bg-black/40 border border-white/10 rounded" placeholder="ID (leave blank to create)">
            <input id="m-title" class="px-3 py-2 bg-black/40 border border-white/10 rounded" placeholder="Title" required>
            <input id="m-year" type="number" class="px-3 py-2 bg-black/40 border border-white/10 rounded" placeholder="Year">
            <input id="m-genre" class="px-3 py-2 bg-black/40 border border-white/10 rounded" placeholder="Genre">
            <input id="m-rating" type="number" step="0.1" class="px-3 py-2 bg-black/40 border border-white/10 rounded" placeholder="Rating">
            <input id="m-poster" class="px-3 py-2 bg-black/40 border border-white/10 rounded" placeholder="Poster URL">
            <input id="m-titleimg" class="px-3 py-2 bg-black/40 border border-white/10 rounded" placeholder="Title Image URL">
          </div>
          <textarea id="m-desc" rows="3" class="w-full px-3 py-2 bg-black/40 border border-white/10 rounded" placeholder="Description"></textarea>

          <div class="grid grid-cols-1 md:grid-cols-3 gap-3 items-end">
            <input id="m-stream" class="px-3 py-2 bg-black/40 border border-white/10 rounded" placeholder="Stream Source (http(s) or absolute file path)">
            <label class="flex items-center gap-2 text-sm text-gray-300">
              <input id="persist-seed" type="checkbox" class="accent-fuchsia-500">
              Persist this movie to seeds
            </label>
            <button class="cyber-button primary px-4 py-2 rounded" id="save-btn" type="submit">Save</button>
          </div>
          <p class="text-xs text-gray-400 mt-2">Note: Stream source is stored server-side.</p>
        </form>

        <div class="bg-white/5 border border-white/10 rounded-xl p-5">
          <h3 class="text-xl font-bold mb-2">Movies</h3>
          <div id="movies-list" class="space-y-2"></div>
        </div>
      </div>
    </section>
  </main>

  <script type="module" src="/admin.js"></script>
</body>
</html>